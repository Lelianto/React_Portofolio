{"ast":null,"code":"var _jsxFileName = \"/home/alta17/Desktop/React_Portofolio/porto_react/src/components/cartDetails.jsx\";\nimport React from 'react';\nimport '../styles/bootstrap.min.css';\nimport '../styles/cartDetail.css';\nimport '../styles/loading.css';\nimport emptylogo from '../images/empty.jpg';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'unistore/react';\nimport { store, actions } from '../store';\nimport axios from 'axios';\nconst perulangan = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];\n\nclass CartDetail extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.goToBook = async book_id => {\n      store.setState({\n        'bookId': book_id\n      });\n      this.props.history.push(\"/bookdetail/\" + store.getState().bookId);\n    };\n\n    this.getAllCart = () => {\n      const req = {\n        method: \"get\",\n        url: store.getState().baseUrl + \"/cart/allcart\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem('token')\n        }\n      };\n      const self = this;\n      axios(req).then(function (response) {\n        console.log(response.data);\n        store.setState({\n          carts: response.data,\n          isLoading: false,\n          'cartContent': true\n        });\n        return response;\n      }).catch(error => {\n        store.setState({\n          isLoading: false\n        });\n\n        switch (error.response.status) {\n          case 401:\n            self.props.history.push('/401');\n            break;\n\n          case 403:\n            self.props.history.push('/403');\n            break;\n\n          case 404:\n            self.props.history.push('/404');\n            break;\n\n          case 422:\n            self.props.history.push('/login');\n            break;\n\n          case 500:\n            self.props.history.push('/500');\n            break;\n\n          default:\n            break;\n        }\n      });\n    };\n\n    this.doDeleteCart = async e => {\n      store.setState({\n        'userCartId': e,\n        \"disable\": true\n      });\n      await this.props.deleteCartItem();\n\n      if (store.getState().lengthCart > 0) {\n        this.getAllCart();\n        this.props.history.push(\"/cart\");\n      }\n    };\n\n    this.componentDidMount = () => {\n      this.getAllCart();\n    };\n  }\n\n  render() {\n    const carts = this.props.carts;\n    const listInCart = carts.filter(item => {\n      if (item.email === localStorage.getItem('email') && item.foto_buku !== null && item.judul !== null && item.harga !== null && item.status_cart === false) {\n        return item;\n      }\n\n      return false;\n    });\n    console.log('LIC', listInCart);\n    store.setState({\n      'lengthCart': listInCart.length\n    });\n\n    if (listInCart.length < 1) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container top-body-cart4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        style: {\n          paddingBottom: '80px',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          width: '70%'\n        },\n        src: emptylogo,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Aku kosong...\"), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Isi aku dengan buku-buku favoritmu...\")))));\n    } else if (this.props.isLoading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"body\", {\n        className: \"top-body-cart3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-md-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      })))));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container top-body-cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, listInCart.map((content, i) => React.createElement(\"div\", {\n        className: \"cart-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 cart-book-detail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          width: '100%'\n        },\n        src: content.foto_buku,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-5 col-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Link, {\n        style: {\n          textDecoration: 'none',\n          color: 'black'\n        },\n        onClick: event => this.goToBook(content.book_id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12  col-4 detail-book-cart1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, content.judul))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 detail-book-cart2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, content.penulis)), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 detail-book-cart3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, content.jenis_cover)), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-12 detail-book-cart4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Rp \", content.harga))), React.createElement(\"div\", {\n        className: \"col-sm-3\",\n        style: {\n          fontSize: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"exampleFormControlSelect1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Banyak Beli\"), React.createElement(\"input\", {\n        class: \"form-control\",\n        pattern: \"^[0-9]*$\",\n        id: content.id,\n        name: \"stok\",\n        onChange: e => this.props.changeInputCart(e, i, content.harga),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"btn\",\n        onClick: () => this.doDeleteCart(content.id),\n        style: {\n          fontSize: '11px',\n          marginTop: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Hapus dari Keranjang\"))), React.createElement(\"div\", {\n        className: \"col-md-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      })))))));\n    }\n  }\n\n}\n\nexport default connect(\"carts, token, isLoading, bookEmptyStock\", actions)(withRouter(CartDetail));","map":{"version":3,"sources":["/home/alta17/Desktop/React_Portofolio/porto_react/src/components/cartDetails.jsx"],"names":["React","emptylogo","withRouter","Link","connect","store","actions","axios","perulangan","CartDetail","Component","goToBook","book_id","setState","props","history","push","getState","bookId","getAllCart","req","method","url","baseUrl","headers","Authorization","localStorage","getItem","self","then","response","console","log","data","carts","isLoading","catch","error","status","doDeleteCart","e","deleteCartItem","lengthCart","componentDidMount","render","listInCart","filter","item","email","foto_buku","judul","harga","status_cart","length","paddingBottom","textAlign","width","preventDefault","map","content","i","textDecoration","color","event","penulis","jenis_cover","fontSize","id","changeInputCart","marginTop"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,6BAAP;AACA,OAAO,0BAAP;AACA,OAAO,uBAAP;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAgC,kBAAhC;AACA,SAASC,OAAT,QAAwB,gBAAxB;AACA,SAASC,KAAT,EAAgBC,OAAhB,QAA+B,UAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,UAAU,GAAG,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB,EAAqB,GAArB,EAAyB,GAAzB,EAA6B,GAA7B,EAAiC,GAAjC,EAAqC,IAArC,CAAnB;;AAEA,MAAMC,UAAN,SAAyBT,KAAK,CAACU,SAA/B,CAAyC;AAAA;AAAA;;AAAA,SAErCC,QAFqC,GAE1B,MAAOC,OAAP,IAAmB;AAC1BP,MAAAA,KAAK,CAACQ,QAAN,CAAe;AACX,kBAAUD;AADC,OAAf;AAGA,WAAKE,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,iBAAeX,KAAK,CAACY,QAAN,GAAiBC,MAAxD;AACC,KAPgC;;AAAA,SAUrCC,UAVqC,GAUxB,MAAK;AACd,YAAMC,GAAG,GAAG;AACRC,QAAAA,MAAM,EAAE,KADA;AAERC,QAAAA,GAAG,EAAEjB,KAAK,CAACY,QAAN,GAAiBM,OAAjB,GAAyB,eAFtB;AAGRC,QAAAA,OAAO,EAAE;AACLC,UAAAA,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADtB;AAHD,OAAZ;AAOI,YAAMC,IAAI,GAAG,IAAb;AACArB,MAAAA,KAAK,CAACa,GAAD,CAAL,CACKS,IADL,CACU,UAAUC,QAAV,EAAoB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACA5B,QAAAA,KAAK,CAACQ,QAAN,CAAe;AACXqB,UAAAA,KAAK,EAAEJ,QAAQ,CAACG,IADL;AAEXE,UAAAA,SAAS,EAAC,KAFC;AAGX,yBAAc;AAHH,SAAf;AAKA,eAAOL,QAAP;AACH,OATL,EAUKM,KAVL,CAUYC,KAAD,IAAS;AACZhC,QAAAA,KAAK,CAACQ,QAAN,CAAe;AACXsB,UAAAA,SAAS,EAAE;AADA,SAAf;;AAGA,gBAAQE,KAAK,CAACP,QAAN,CAAeQ,MAAvB;AACI,eAAK,GAAL;AACIV,YAAAA,IAAI,CAACd,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB;AACA;;AACJ,eAAK,GAAL;AACIY,YAAAA,IAAI,CAACd,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB;AACA;;AACJ,eAAK,GAAL;AACIY,YAAAA,IAAI,CAACd,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB;AACA;;AACJ,eAAK,GAAL;AACIY,YAAAA,IAAI,CAACd,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACA;;AACJ,eAAK,GAAL;AACIY,YAAAA,IAAI,CAACd,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB;AACA;;AACJ;AACI;AAjBR;AAmBH,OAjCL;AAkCP,KArDoC;;AAAA,SAwDrCuB,YAxDqC,GAwDtB,MAAOC,CAAP,IAAa;AACxBnC,MAAAA,KAAK,CAACQ,QAAN,CAAe;AACX,sBAAc2B,CADH;AAEX,mBAAY;AAFD,OAAf;AAIA,YAAM,KAAK1B,KAAL,CAAW2B,cAAX,EAAN;;AACA,UAAIpC,KAAK,CAACY,QAAN,GAAiByB,UAAjB,GAA4B,CAAhC,EAAkC;AAC9B,aAAKvB,UAAL;AACA,aAAKL,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB;AACH;AACJ,KAlEoC;;AAAA,SAqErC2B,iBArEqC,GAqEjB,MAAM;AACtB,WAAKxB,UAAL;AACH,KAvEoC;AAAA;;AAyErCyB,EAAAA,MAAM,GAAG;AAAA,UACGV,KADH,GACa,KAAKpB,KADlB,CACGoB,KADH;AAEL,UAAMW,UAAU,GAAGX,KAAK,CAACY,MAAN,CAAaC,IAAI,IAAI;AACpC,UAAIA,IAAI,CAACC,KAAL,KAAetB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAf,IAAgDoB,IAAI,CAACE,SAAL,KAAmB,IAAnE,IAA2EF,IAAI,CAACG,KAAL,KAAe,IAA1F,IAAkGH,IAAI,CAACI,KAAL,KAAe,IAAjH,IAAyHJ,IAAI,CAACK,WAAL,KAAqB,KAAlJ,EAAyJ;AACrJ,eAAOL,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KALkB,CAAnB;AAMAhB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBa,UAAlB;AACAxC,IAAAA,KAAK,CAACQ,QAAN,CAAe;AACX,oBAAagC,UAAU,CAACQ;AADb,KAAf;;AAGA,QAAGR,UAAU,CAACQ,MAAX,GAAkB,CAArB,EAAuB;AACnB,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAqB,QAAA,KAAK,EAAE;AAAEC,UAAAA,aAAa,EAAC,MAAhB;AAAwBC,UAAAA,SAAS,EAAC;AAAlC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAGI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAC;AAAP,SAAZ;AAA2B,QAAA,GAAG,EAAEvD,SAAhC;AAA2C,QAAA,GAAG,EAAC,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDALJ,CAHJ,CADJ,CADJ,CADJ;AAqBH,KAtBD,MAuBK,IAAG,KAAKa,KAAL,CAAWqB,SAAd,EAAwB;AACzB,aACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAGE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAHF,EAME;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF,CADA,CADF,CADA;AAkBD,KAnBE,MAoBC;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,QAAQ,EAAEK,CAAC,IAAIA,CAAC,CAACiB,cAAF,EAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCZ,UAAU,CAACa,GAAX,CAAe,CAACC,OAAD,EAASC,CAAT,KAChB;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAE;AAACJ,UAAAA,KAAK,EAAC;AAAP,SAAZ;AAA4B,QAAA,GAAG,EAAEG,OAAO,CAACV,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,EAII;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqB,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACY,UAAAA,cAAc,EAAC,MAAhB;AAAwBC,UAAAA,KAAK,EAAC;AAA9B,SAAb;AAAqD,QAAA,OAAO,EAAEC,KAAK,IAAI,KAAKpD,QAAL,CAAcgD,OAAO,CAAC/C,OAAtB,CAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACjB;AAAK,QAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK+C,OAAO,CAACT,KADb,CADiB,CAArB,CADJ,EAMI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKS,OAAO,CAACK,OADb,CADJ,CANJ,EAWI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKL,OAAO,CAACM,WADb,CADJ,CAXJ,EAgBI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACQN,OAAO,CAACR,KADhB,CADJ,CAhBJ,CAJJ,EA0BI;AAAK,QAAA,SAAS,EAAC,UAAf;AAA0B,QAAA,KAAK,EAAE;AAACe,UAAAA,QAAQ,EAAC;AAAV,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,GAAG,EAAC,2BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI;AAAO,QAAA,KAAK,EAAC,cAAb;AAA4B,QAAA,OAAO,EAAC,UAApC;AAA+C,QAAA,EAAE,EAAEP,OAAO,CAACQ,EAA3D;AAA+D,QAAA,IAAI,EAAC,MAApE;AAA2E,QAAA,QAAQ,EAAE3B,CAAC,IAAI,KAAK1B,KAAL,CAAWsD,eAAX,CAA2B5B,CAA3B,EAA8BoB,CAA9B,EAAiCD,OAAO,CAACR,KAAzC,CAA1F;AAA0I,QAAA,QAAQ,MAAlJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,EAMI;AAAQ,QAAA,SAAS,EAAC,KAAlB;AAAwB,QAAA,OAAO,EAAE,MAAI,KAAKZ,YAAL,CAAkBoB,OAAO,CAACQ,EAA1B,CAArC;AAAoE,QAAA,KAAK,EAAE;AAACD,UAAAA,QAAQ,EAAC,MAAV;AAAkBG,UAAAA,SAAS,EAAC;AAA5B,SAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCANJ,CA1BJ,CADJ,EAsCI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtCJ,CADC,CADD,CADJ,CADJ,CADJ,CADJ;AAqDH;AACN;;AAvLoC;;AA0LzC,eAAejE,OAAO,CAAC,yCAAD,EAA2CE,OAA3C,CAAP,CAA2DJ,UAAU,CAACO,UAAD,CAArE,CAAf","sourcesContent":["import React from 'react';\nimport '../styles/bootstrap.min.css';\nimport '../styles/cartDetail.css';\nimport '../styles/loading.css';\nimport emptylogo from '../images/empty.jpg'\nimport { withRouter, Link} from 'react-router-dom'\nimport { connect } from 'unistore/react'\nimport { store, actions } from '../store'\nimport axios from 'axios'\n\nconst perulangan = ['1','2','3','4','5','6','7','8','9','10']\n\nclass CartDetail extends React.Component {\n    // Function to go to book detail information\n    goToBook = async (book_id) => {\n        store.setState({ \n            'bookId': book_id\n        })\n        this.props.history.push(\"/bookdetail/\"+store.getState().bookId);\n        }\n\n    // Function to get all cart's content from database\n    getAllCart = ()=> {\n        const req = {\n            method: \"get\",\n            url: store.getState().baseUrl+\"/cart/allcart\",\n            headers: {\n                Authorization: \"Bearer \" + localStorage.getItem('token')\n            }\n            }; \n            const self = this\n            axios(req)\n                .then(function (response) {\n                    console.log(response.data)\n                    store.setState({ \n                        carts: response.data, \n                        isLoading:false,\n                        'cartContent':true \n                    })\n                    return response\n                })\n                .catch((error)=>{\n                    store.setState({ \n                        isLoading: false\n                    })\n                    switch (error.response.status) {\n                        case 401 :\n                            self.props.history.push('/401')\n                            break\n                        case 403 :\n                            self.props.history.push('/403')\n                            break\n                        case 404 :\n                            self.props.history.push('/404')\n                            break\n                        case 422 :\n                            self.props.history.push('/login')\n                            break\n                        case 500 :\n                            self.props.history.push('/500')\n                            break\n                        default :\n                            break\n                    }\n                })\n    }\n\n    // Function to delete product in cart by ID (from database)\n    doDeleteCart = async (e) => {\n        store.setState({\n            'userCartId': e,\n            \"disable\" : true\n        })\n        await this.props.deleteCartItem()\n        if (store.getState().lengthCart>0){\n            this.getAllCart()\n            this.props.history.push(\"/cart\");\n        }\n    }\n\n    // Function to execute getAllCart\n    componentDidMount = () => {\n        this.getAllCart()\n    };\n\n    render() {\n        const { carts } = this.props\n        const listInCart = carts.filter(item => {\n            if (item.email === localStorage.getItem('email') && item.foto_buku !== null && item.judul !== null && item.harga !== null && item.status_cart === false) {\n                return item;\n            }\n            return false\n        })\n        console.log('LIC',listInCart)\n        store.setState({\n            'lengthCart':listInCart.length,\n        })\n        if(listInCart.length<1){\n            return (\n                <div>\n                    <div className='container top-body-cart4'>\n                        <div className='row' style={{ paddingBottom:'80px', textAlign:'center'}}>\n                            <div className='col-md-6'>\n                            </div>\n                            <div className='col-md-6'>\n                                <img style={{width:'70%'}} src={emptylogo} alt=\"\"/>\n                                <h3>\n                                    Aku kosong...\n                                </h3>\n                                <h6>\n                                    Isi aku dengan buku-buku favoritmu...\n                                </h6> \n                            </div>\n                            {/* <div className='col-md-2'>\n                            </div> */}\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n        else if(this.props.isLoading){\n            return (\n            <div>\n              <body className='top-body-cart3'>\n              <div className='container'>\n                <div className='row'>\n                  <div className='col-md-5'>\n                  </div>\n                  <div className='col-md-2'>\n                    <div class=\"loader\"></div>\n                  </div>\n                  <div className='col-md-5'>\n                  </div>\n                </div>\n               \n              </div>\n            </body>\n            </div>\n            )\n          } \n          else{\n              return (\n                  <div>\n                      <div className='container top-body-cart'>\n                          <div className='row'>\n                              <form onSubmit={e => e.preventDefault()}>\n                              {listInCart.map((content,i)=>\n                              <div className='cart-body'>\n                                  <div className='col-12 cart-book-detail'>\n                                      <div className='col-sm-3'>\n                                          <img style={{width:'100%'}} src={content.foto_buku}/>\n                                      </div>\n                                      <div className='col-sm-5 col-8'>\n                                          <div className='row'><Link style={{textDecoration:'none', color:'black'}} onClick={event => this.goToBook(content.book_id)}>\n                                              <div className='col-sm-12  col-4 detail-book-cart1'>\n                                                  {content.judul}\n                                              </div></Link>\n                                          </div>\n                                          <div className='row'>\n                                              <div className='col-sm-12 detail-book-cart2'>\n                                                  {content.penulis}\n                                              </div>\n                                          </div>\n                                          <div className='row'>\n                                              <div className='col-sm-12 detail-book-cart3'>\n                                                  {content.jenis_cover}\n                                              </div>\n                                          </div>\n                                          <div className='row'>\n                                              <div className='col-sm-12 detail-book-cart4'>\n                                                  Rp {content.harga}\n                                              </div>\n                                          </div>\n                                      </div>\n                                      <div className='col-sm-3' style={{fontSize:'15px'}}>\n                                          <div>\n                                              <label for=\"exampleFormControlSelect1\" >Banyak Beli</label>\n                                              <input class=\"form-control\" pattern=\"^[0-9]*$\" id={content.id} name='stok' onChange={e => this.props.changeInputCart(e, i, content.harga)}required>\n                                              </input>\n                                          </div>\n                                          <button className='btn' onClick={()=>this.doDeleteCart(content.id)} style={{fontSize:'11px', marginTop:'20px'}}>\n                                              Hapus dari Keranjang\n                                          </button>\n                                      </div>\n                                  </div>\n                                  <div className='col-md-1'>\n                                  </div>\n                              </div>\n                              )}\n                          </form>\n                          </div>\n                      </div>\n                  </div>\n              )\n          }\n    }\n}\n\nexport default connect(\"carts, token, isLoading, bookEmptyStock\",actions)(withRouter(CartDetail));"]},"metadata":{},"sourceType":"module"}