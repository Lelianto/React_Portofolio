{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'../styles/bootstrap.min.css';import'../styles/allBooks.css';import{withRouter}from'react-router-dom';import{connect}from'unistore/react';import{store,actions}from'../store';import axios from'axios';var AdminAllBooks=/*#__PURE__*/function(_React$Component){_inherits(AdminAllBooks,_React$Component);function AdminAllBooks(){var _getPrototypeOf2;var _this;_classCallCheck(this,AdminAllBooks);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AdminAllBooks)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.goToBook=function _callee(book){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:store.setState({bookId:book.id});_this.props.history.push(\"/bookdetail/\"+store.getState().bookId);case 2:case\"end\":return _context.stop();}}});};_this.componentDidMount=function(){var req={method:\"get\",url:store.getState().baseUrl+\"/book\",headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}};var self=_assertThisInitialized(_this);axios(req).then(function(response){store.setState({books:response.data,isLoading:false});return response;}).catch(function(error){store.setState({isLoading:false});switch(error.response.status){case 401:self.props.history.push('/401');break;case 403:self.props.history.push('/403');break;case 404:self.props.history.push('/404');break;case 422:self.props.history.push('/422');break;case 500:self.props.history.push('/500');break;default:break;}});};return _this;}_createClass(AdminAllBooks,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,books=_this$props.books,isLoading=_this$props.isLoading;var displayAvailableBooks=books.filter(function(item){if(item.foto_buku!==null&&item.judul!==null&&item.penulis!==null&&item.harga!==null&&item.berat!==null){return item;}return false;});if(isLoading){return React.createElement(\"div\",null,React.createElement(\"body\",{style:{paddingTop:'200px'}},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-5\"}),React.createElement(\"div\",{className:\"col-md-2\"},React.createElement(\"div\",{class:\"loader\"})),React.createElement(\"div\",{className:\"col-md-5\"})))));}if(localStorage.getItem('email')==='lian@alterra.id'){return React.createElement(\"div\",{className:\"container\",style:{paddingTop:'90px'}},React.createElement(\"div\",{className:\"row\"},displayAvailableBooks.map(function(book,i){return React.createElement(\"div\",{className:\"col-md-3\"},React.createElement(\"div\",{className:\"row box-all-books\"},React.createElement(\"div\",{className:\"col-md-12 \"},book.id),React.createElement(\"div\",{className:\"col-md-12 \"},book.email_user),React.createElement(\"div\",{className:\"col-md-12 box-all-books-photo\"},React.createElement(\"img\",{style:{width:'100%'},src:book.foto_buku,alt:\"\"})),React.createElement(\"div\",{className:\"col-md-12 box-all-books-title\",onClick:function onClick(event){return _this2.goToBook(book);}},book.judul),React.createElement(\"div\",{className:\"col-md-12 box-all-books-writer\"},book.penulis),React.createElement(\"div\",{className:\"col-md-12 box-all-books-price\"},\"Rp \",book.harga)));})));}return React.createElement(\"div\",{className:\"container\",style:{marginTop:'40px'}},React.createElement(\"div\",{className:\"row\"},displayAvailableBooks.map(function(book,i){return React.createElement(\"div\",{className:\"col-md-3\"},React.createElement(\"div\",{className:\"row box-all-books\"},React.createElement(\"div\",{className:\"col-md-12 box-all-books-photo\"},React.createElement(\"img\",{style:{width:'100%'},src:book.foto_buku,alt:\"\"})),React.createElement(\"div\",{className:\"col-md-12 box-all-books-title\",onClick:function onClick(event){return _this2.goToBook(book);}},book.judul),React.createElement(\"div\",{className:\"col-md-12 box-all-books-writer\"},book.penulis),React.createElement(\"div\",{className:\"col-md-12 box-all-books-price\"},\"Rp \",book.harga)));})));}}]);return AdminAllBooks;}(React.Component);export default connect(\"books, bookId, token, isLoading\",actions)(withRouter(AdminAllBooks));","map":{"version":3,"sources":["/home/alta17/Desktop/React_Portofolio/porto_react/src/components/displayAllBooksAdmin.jsx"],"names":["React","withRouter","connect","store","actions","axios","AdminAllBooks","goToBook","book","setState","bookId","id","props","history","push","getState","componentDidMount","req","method","url","baseUrl","headers","Authorization","localStorage","getItem","self","then","response","books","data","isLoading","catch","error","status","displayAvailableBooks","filter","item","foto_buku","judul","penulis","harga","berat","paddingTop","map","i","email_user","width","event","marginTop","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../styles/bootstrap.min.css';\nimport '../styles/allBooks.css';\nimport { withRouter} from 'react-router-dom'\nimport { connect } from 'unistore/react'\nimport { store, actions } from '../store'\nimport axios from 'axios'\n\n\nclass AdminAllBooks extends React.Component {\n    // Function to go to book information detail\n    goToBook = async (book) => {\n        store.setState({ bookId: book.id })\n        this.props.history.push(\"/bookdetail/\"+store.getState().bookId);\n        }\n    \n    // Function to get all book and display it into homepage\n    componentDidMount = () => {\n        const req = {\n        method: \"get\",\n        url: store.getState().baseUrl+\"/book\",\n        headers: {\n            Authorization: \"Bearer \" + localStorage.getItem('token')\n        }\n        }; \n        const self = this\n        axios(req)\n            .then(function (response) {\n                store.setState({ \n                    books: response.data, \n                    isLoading:false\n                })\n                return response\n            })\n            .catch((error)=>{\n                store.setState({ \n                    isLoading: false\n                })\n                switch (error.response.status) {\n                    case 401 :\n                        self.props.history.push('/401')\n                        break\n                    case 403 :\n                        self.props.history.push('/403')\n                        break\n                    case 404 :\n                        self.props.history.push('/404')\n                        break\n                    case 422 :\n                        self.props.history.push('/422')\n                        break\n                    case 500 :\n                        self.props.history.push('/500')\n                        break\n                    default :\n                        break\n                }\n            })\n    };\n\n    render() {\n        const { books, isLoading } = this.props\n        const displayAvailableBooks = books.filter(item => {\n            if (item.foto_buku !== null && item.judul !== null && item.penulis !== null && item.harga !== null && item.berat !== null) {\n                return item;\n            }\n            return false\n        });\n        if(isLoading){\n            return (\n            <div>\n              <body style={{paddingTop:'200px'}}>\n              <div className='container'>\n                <div className='row'>\n                  <div className='col-md-5'>\n                  </div>\n                  <div className='col-md-2'>\n                    <div class=\"loader\"></div>\n                  </div>\n                  <div className='col-md-5'>\n                  </div>\n                </div>\n               \n              </div>\n            </body>\n            </div>\n            )\n          }\n        if(localStorage.getItem('email')==='lian@alterra.id'){\n            return (\n                <div className='container' style={{paddingTop:'90px'}}>\n                    <div className='row'>\n                        {displayAvailableBooks.map((book,i) =>\n                            <div className='col-md-3'>\n                                <div className='row box-all-books'>\n                                    <div className='col-md-12 '>\n                                        {book.id}\n                                    </div>\n                                    <div className='col-md-12 '>\n                                        {book.email_user}\n                                    </div>\n                                    <div className='col-md-12 box-all-books-photo'>\n                                        <img style={{ width:'100%'}} src={book.foto_buku} alt=\"\"/>\n                                    </div>\n                                    <div className='col-md-12 box-all-books-title' onClick={event => this.goToBook(book)}>{book.judul}</div>\n                                    <div className='col-md-12 box-all-books-writer'>{book.penulis}</div>\n                                    <div className='col-md-12 box-all-books-price'>Rp {book.harga}</div>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )\n        }\n        return (\n            <div className='container' style={{marginTop:'40px'}}>\n                <div className='row'>\n                    {displayAvailableBooks.map((book,i) =>\n                        <div className='col-md-3'>\n                            <div className='row box-all-books'>\n                                <div className='col-md-12 box-all-books-photo'>\n                                    <img style={{ width:'100%'}} src={book.foto_buku} alt=\"\"/>\n                                </div>\n                                <div className='col-md-12 box-all-books-title' onClick={event => this.goToBook(book)}>{book.judul}</div>\n                                <div className='col-md-12 box-all-books-writer'>{book.penulis}</div>\n                                <div className='col-md-12 box-all-books-price'>Rp {book.harga}</div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(\"books, bookId, token, isLoading\",actions)(withRouter(AdminAllBooks));"]},"metadata":{},"sourceType":"module"}