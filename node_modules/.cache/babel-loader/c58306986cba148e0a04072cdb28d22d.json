{"ast":null,"code":"import _classCallCheck from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'../styles/bootstrap.min.css';import'../styles/cartDetail.css';import'../styles/loading.css';import{withRouter,Link,Redirect}from'react-router-dom';import{connect}from'unistore/react';import{store,actions}from'../store';import axios from'axios';var CartDetailTotalPrice=/*#__PURE__*/function(_React$Component){_inherits(CartDetailTotalPrice,_React$Component);function CartDetailTotalPrice(){var _getPrototypeOf2;var _this;_classCallCheck(this,CartDetailTotalPrice);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CartDetailTotalPrice)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.componentDidMount=function(){var req={method:\"get\",url:store.getState().baseUrl+\"/cart/total\",headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}};var self=_assertThisInitialized(_this);axios(req).then(function(response){store.setState({\"totalPrice\":response.data,'disable':true});return response;}).catch(function(error){store.setState({isLoading:false});switch(error.response.status){case 401:self.props.history.push('/401');break;case 403:self.props.history.push('/403');break;case 404:self.props.history.push('/404');break;case 422:self.props.history.push('/login');break;case 500:self.props.history.push('/500');break;default:break;}});};_this.resetCart=function(){store.setState({bookEmptyStock:[],disable:true});_this.props.history.push('/cart');};return _this;}_createClass(CartDetailTotalPrice,[{key:\"render\",value:function render(){if(store.getState().lengthCart===0){return React.createElement(Redirect,{to:{pathname:\"/cart\"}});}if(this.props.isLoading){return React.createElement(\"div\",null,React.createElement(\"body\",{style:{paddingTop:'200px'}},React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-5\"}),React.createElement(\"div\",{className:\"col-md-2\"},React.createElement(\"div\",{class:\"loader\"})),React.createElement(\"div\",{className:\"col-md-5\"})))));}if(store.getState().bookEmptyStock.length>0){return React.createElement(\"div\",{className:\"book-empty\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"},React.createElement(\"div\",{class:\"modal-dialog modal-dialog-centered\",role:\"document\"},React.createElement(\"div\",{class:\"modal-content\"},React.createElement(\"div\",{class:\"modal-header\",style:{backgroundColor:'teal',color:'white'}},React.createElement(\"h6\",{class:\"modal-title\",id:\"exampleModalLongTitle\"},\"Stok buku ini tidak mencukupi.\"),React.createElement(\"button\",{onClick:this.resetCart,type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},React.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))),store.getState().bookEmptyStock.map(function(item,i){return React.createElement(\"div\",{class:\"modal-body\"},i+1,\". \",item);}))));}return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"container top-body-cart5\"},React.createElement(\"div\",{className:\"col-md-12\",style:{backgroundColor:'aliceblue',borderRadius:'5%',marginBottom:'250px'}},React.createElement(\"div\",{className:\"row\",style:{paddingTop:'25px',paddingLeft:'23px',paddingRight:'23px'}},React.createElement(\"div\",{className:\"col-md-6\"},\"Subtotal\"),React.createElement(\"div\",{className:\"col-md-6\"},\"Rp \",this.props.totalPrice)),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-12\",style:{paddingTop:'55px',marginBottom:'25px'}},React.createElement(\"label\",null,React.createElement(Link,{to:\"/expedition\"},React.createElement(\"button\",{type:\"button\",class:\"btn btn-success\",disabled:this.props.disable},\"Lanjutkan Pembelian\"))))))));}}]);return CartDetailTotalPrice;}(React.Component);export default connect(\"carts, totalPrice, token, isLoading, disable\",actions)(withRouter(CartDetailTotalPrice));","map":{"version":3,"sources":["/home/alta17/Desktop/React_Portofolio/porto_react/src/components/cartDetailTotalPrice.jsx"],"names":["React","withRouter","Link","Redirect","connect","store","actions","axios","CartDetailTotalPrice","componentDidMount","req","method","url","getState","baseUrl","headers","Authorization","localStorage","getItem","self","then","response","setState","data","catch","error","isLoading","status","props","history","push","resetCart","bookEmptyStock","disable","lengthCart","pathname","paddingTop","length","backgroundColor","color","map","item","i","borderRadius","marginBottom","paddingLeft","paddingRight","totalPrice","Component"],"mappings":"szBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,6BAAP,CACA,MAAO,0BAAP,CACA,MAAO,uBAAP,CACA,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,QAA3B,KAA2C,kBAA3C,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,KAAT,CAAgBC,OAAhB,KAA+B,UAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,oB,mcAEJC,iB,CAAoB,UAAM,CACtB,GAAMC,CAAAA,GAAG,CAAG,CACRC,MAAM,CAAE,KADA,CAERC,GAAG,CAAEP,KAAK,CAACQ,QAAN,GAAiBC,OAAjB,CAAyB,aAFtB,CAGRC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADpB,CAHD,CAAZ,CAOE,GAAMC,CAAAA,IAAI,8BAAV,CACAZ,KAAK,CAACG,GAAD,CAAL,CACKU,IADL,CACU,SAASC,QAAT,CAAmB,CACvBhB,KAAK,CAACiB,QAAN,CAAe,CACb,aAAcD,QAAQ,CAACE,IADV,CAEb,UAAW,IAFE,CAAf,EAIA,MAAOF,CAAAA,QAAP,CACD,CAPL,EAQKG,KARL,CAQW,SAAAC,KAAK,CAAI,CACdpB,KAAK,CAACiB,QAAN,CAAe,CAAEI,SAAS,CAAE,KAAb,CAAf,EACA,OAAQD,KAAK,CAACJ,QAAN,CAAeM,MAAvB,EACE,IAAK,IAAL,CACIR,IAAI,CAACS,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB,EACA,MACJ,IAAK,IAAL,CACIX,IAAI,CAACS,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB,EACA,MACJ,IAAK,IAAL,CACIX,IAAI,CAACS,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB,EACA,MACJ,IAAK,IAAL,CACIX,IAAI,CAACS,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACA,MACJ,IAAK,IAAL,CACIX,IAAI,CAACS,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB,EACA,MACJ,QACI,MAjBN,CAmBL,CA7BD,EA8BL,C,OAGDC,S,CAAY,UAAM,CAChB1B,KAAK,CAACiB,QAAN,CAAe,CACbU,cAAc,CAAC,EADF,CAEbC,OAAO,CAAC,IAFK,CAAf,EAIA,MAAKL,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB,EACD,C,uFAEQ,CACL,GAAGzB,KAAK,CAACQ,QAAN,GAAiBqB,UAAjB,GAA8B,CAAjC,CAAmC,CACjC,MAAO,qBAAC,QAAD,EAAU,EAAE,CAAE,CAAEC,QAAQ,CAAE,OAAZ,CAAd,EAAP,CACD,CACD,GAAG,KAAKP,KAAL,CAAWF,SAAd,CAAwB,CACpB,MACA,gCACE,4BAAM,KAAK,CAAE,CAACU,UAAU,CAAC,OAAZ,CAAb,EACA,2BAAK,SAAS,CAAC,WAAf,EACE,2BAAK,SAAS,CAAC,KAAf,EACE,2BAAK,SAAS,CAAC,UAAf,EADF,CAGE,2BAAK,SAAS,CAAC,UAAf,EACE,2BAAK,KAAK,CAAC,QAAX,EADF,CAHF,CAME,2BAAK,SAAS,CAAC,UAAf,EANF,CADF,CADA,CADF,CADA,CAkBD,CACH,GAAG/B,KAAK,CAACQ,QAAN,GAAiBmB,cAAjB,CAAgCK,MAAhC,CAAuC,CAA1C,CAA4C,CAC1C,MACE,4BAAK,SAAS,CAAC,YAAf,CAA4B,QAAQ,CAAC,IAArC,CAA0C,IAAI,CAAC,QAA/C,CAAwD,kBAAgB,yBAAxE,CAAkG,cAAY,MAA9G,EACI,2BAAK,KAAK,CAAC,oCAAX,CAAgD,IAAI,CAAC,UAArD,EACI,2BAAK,KAAK,CAAC,eAAX,EACA,2BAAK,KAAK,CAAC,cAAX,CAA0B,KAAK,CAAE,CAACC,eAAe,CAAC,MAAjB,CAAyBC,KAAK,CAAC,OAA/B,CAAjC,EACI,0BAAI,KAAK,CAAC,aAAV,CAAwB,EAAE,CAAC,uBAA3B,mCADJ,CAEI,8BAAQ,OAAO,CAAE,KAAKR,SAAtB,CAAkC,IAAI,CAAC,QAAvC,CAAgD,KAAK,CAAC,OAAtD,CAA8D,eAAa,OAA3E,CAAmF,aAAW,OAA9F,EACA,4BAAM,cAAY,MAAlB,SADA,CAFJ,CADA,CAOC1B,KAAK,CAACQ,QAAN,GAAiBmB,cAAjB,CAAgCQ,GAAhC,CAAoC,SAACC,IAAD,CAAMC,CAAN,QACrC,4BAAK,KAAK,CAAC,YAAX,EACKA,CAAC,CAAC,CADP,MACYD,IADZ,CADqC,EAApC,CAPD,CADJ,CADJ,CADF,CAmBD,CACD,MACI,gCACI,2BAAK,SAAS,CAAC,0BAAf,EACI,2BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEH,eAAe,CAAE,WAAnB,CAAgCK,YAAY,CAAE,IAA9C,CAAoDC,YAAY,CAAC,OAAjE,CAAlC,EACI,2BAAK,SAAS,CAAC,KAAf,CAAqB,KAAK,CAAE,CAAER,UAAU,CAAC,MAAb,CAAqBS,WAAW,CAAE,MAAlC,CAA0CC,YAAY,CAAE,MAAxD,CAA5B,EACI,2BAAK,SAAS,CAAC,UAAf,aADJ,CAEI,2BAAK,SAAS,CAAC,UAAf,QAA8B,KAAKlB,KAAL,CAAWmB,UAAzC,CAFJ,CADJ,CAKI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEX,UAAU,CAAC,MAAb,CAAqBQ,YAAY,CAAE,MAAnC,CAAlC,EACI,iCAAO,oBAAC,IAAD,EAAM,EAAE,CAAC,aAAT,EACH,8BAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,iBAA5B,CAA8C,QAAQ,CAAE,KAAKhB,KAAL,CAAWK,OAAnE,wBADG,CAAP,CADJ,CADJ,CALJ,CADJ,CADJ,CADJ,CAmBH,C,kCApHgCjC,KAAK,CAACgD,S,EAuHzC,cAAe5C,CAAAA,OAAO,CAAC,8CAAD,CAAgDE,OAAhD,CAAP,CAAgEL,UAAU,CAACO,oBAAD,CAA1E,CAAf","sourcesContent":["import React from 'react';\nimport '../styles/bootstrap.min.css';\nimport '../styles/cartDetail.css';\nimport '../styles/loading.css';\nimport { withRouter, Link, Redirect } from 'react-router-dom';\nimport { connect } from 'unistore/react';\nimport { store, actions } from '../store';\nimport axios from 'axios';\n\nclass CartDetailTotalPrice extends React.Component {\n  // Function to display total price inside the cart\n  componentDidMount = () => {\n      const req = {\n          method: \"get\",\n          url: store.getState().baseUrl+\"/cart/total\",\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem('token')\n          }\n        };\n        const self =this\n        axios(req)\n            .then(function(response) {\n              store.setState({\n                \"totalPrice\": response.data,\n                'disable': true\n              })\n              return response\n            })\n            .catch(error => {\n              store.setState({ isLoading: false})\n              switch (error.response.status) {\n                case 401 :\n                    self.props.history.push('/401')\n                    break\n                case 403 :\n                    self.props.history.push('/403')\n                    break\n                case 404 :\n                    self.props.history.push('/404')\n                    break\n                case 422 :\n                    self.props.history.push('/login')\n                    break\n                case 500 :\n                    self.props.history.push('/500')\n                    break\n                default :\n                    break\n            }\n        })\n  };\n\n  // Function for recall cart\n  resetCart = () => {\n    store.setState({\n      bookEmptyStock:[],\n      disable:true\n    })\n    this.props.history.push('/cart')\n  }\n  \n  render() {\n      if(store.getState().lengthCart===0){\n        return <Redirect to={{ pathname: \"/cart\" }} />;\n      }\n      if(this.props.isLoading){\n          return (\n          <div >\n            <body style={{paddingTop:'200px'}}>\n            <div className='container'>\n              <div className='row'>\n                <div className='col-md-5'>\n                </div>\n                <div className='col-md-2'>\n                  <div class=\"loader\"></div>\n                </div>\n                <div className='col-md-5'>\n                </div>\n              </div>\n              \n            </div>\n          </body>\n          </div>\n          )\n        }\n      if(store.getState().bookEmptyStock.length>0){\n        return(\n          <div className='book-empty' tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n              <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                  <div class=\"modal-content\">\n                  <div class=\"modal-header\" style={{backgroundColor:'teal', color:'white'}}>\n                      <h6 class=\"modal-title\" id=\"exampleModalLongTitle\">Stok buku ini tidak mencukupi.</h6>\n                      <button onClick={this.resetCart}  type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                      <span aria-hidden=\"true\">&times;</span>\n                      </button>\n                  </div>\n                  {store.getState().bookEmptyStock.map((item,i)=>\n                  <div class=\"modal-body\">\n                      {i+1}. {item}\n                  </div>\n                  )}\n                  </div>\n              </div>\n          </div>\n        )\n      }\n      return (\n          <div>\n              <div className='container top-body-cart5'>\n                  <div className='col-md-12' style={{ backgroundColor: 'aliceblue', borderRadius: '5%', marginBottom:'250px' }}>\n                      <div className='row' style={{ paddingTop:'25px', paddingLeft: '23px', paddingRight: '23px'}} >\n                          <div className='col-md-6'>Subtotal</div>\n                          <div className='col-md-6'>Rp {this.props.totalPrice}</div>\n                      </div>\n                      <div className='row'>\n                          <div className='col-md-12' style={{ paddingTop:'55px', marginBottom: '25px'}}>\n                              <label><Link to='/expedition'>\n                                  <button type=\"button\" class=\"btn btn-success\" disabled={this.props.disable}>Lanjutkan Pembelian</button></Link>\n                              </label>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n          </div>\n      )\n  }\n}\n\nexport default connect(\"carts, totalPrice, token, isLoading, disable\",actions)(withRouter(CartDetailTotalPrice));"]},"metadata":{},"sourceType":"module"}