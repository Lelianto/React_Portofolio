{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/alta17/Desktop/React_Portofolio/porto_react/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'../styles/bootstrap.min.css';import'../styles/allBooks.css';import{withRouter}from'react-router-dom';import{connect}from'unistore/react';import{store,actions}from'../store';import axios from'axios';var SearchAllBook=/*#__PURE__*/function(_React$Component){_inherits(SearchAllBook,_React$Component);function SearchAllBook(){var _getPrototypeOf2;var _this;_classCallCheck(this,SearchAllBook);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SearchAllBook)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.doDelete=function _callee(e){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:store.setState({'bookId':e});_context.next=3;return _regeneratorRuntime.awrap(_this.props.deleteItem());case 3:if(localStorage.getItem('token')!==null){_this.getListBook();_this.props.history.push(\"/books\");}case 4:case\"end\":return _context.stop();}}});};_this.doSearchBook=function _callee2(){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(_this.props.searchBook());case 2:_this.props.history.push(\"/books/search\");case 3:case\"end\":return _context2.stop();}}});};return _this;}_createClass(SearchAllBook,[{key:\"render\",value:function render(){var _this2=this;var listResults=this.props.listResults;var searchResult=listResults.filter(function(item){if(item.penulis!==null&&item.judul!==null&&item.genre!==null&&item.email_user!==null){return item;}return false;});return React.createElement(\"div\",{className:\"container-fluid\",style:{paddingTop:'50px'}},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-6 search\"},React.createElement(\"form\",{onSubmit:function onSubmit(e){return e.preventDefault();}},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(\"div\",{className:\"active-cyan-4 mb-4\"},React.createElement(\"input\",{class:\"form-control mr-sm-2\",style:{width:\"90%\"},type:\"search\",placeholder:\"Cari Judul, Penulis, Genre, Status Jual\",\"aria-label\":\"Search\",id:\"keyword\",name:\"keyword\",onChange:function onChange(e){return _this2.props.changeInput(e);}}))),React.createElement(\"div\",{className:\"col-md-3\"},React.createElement(\"div\",{className:\"active-cyan-4 mb-4\",style:{marginLeft:'-135px'}},React.createElement(\"button\",{class:\"btn btn-info my-sm-0\",type:\"submit\",onClick:this.doSearchBook},\"Search\")))))),React.createElement(\"table\",{class:\"table table-bordered\",style:{fontSize:'12px'}},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"ID Buku\"),React.createElement(\"th\",null,\"Judul Buku\"),React.createElement(\"th\",null,\"Penulis\"),React.createElement(\"th\",null,\"Genre\"),React.createElement(\"th\",null,\"Harga\"),React.createElement(\"th\",null,\"Status Jual\"),React.createElement(\"th\",null,\"Stok\"),React.createElement(\"th\",null,\"ID User\"),React.createElement(\"th\",null,\"Email User\"),React.createElement(\"th\",null,\"Hapus Akun\"))),React.createElement(\"tbody\",null,searchResult.map(function(book,i){return React.createElement(\"tr\",null,React.createElement(\"td\",null,book.id),React.createElement(\"td\",null,book.judul),React.createElement(\"td\",null,book.penulis),React.createElement(\"td\",null,book.genre),React.createElement(\"td\",null,book.harga),React.createElement(\"td\",null,book.status),React.createElement(\"td\",null,book.stok),React.createElement(\"td\",null,book.user_id),React.createElement(\"td\",null,book.email_user),React.createElement(\"td\",null,React.createElement(\"button\",{style:{fontSize:'10px'},onClick:function onClick(){return _this2.doDelete(book.id);}},\"Delete\")));})))));}}]);return SearchAllBook;}(React.Component);export default connect(\"listResults,adminProductKeyword ,adminAllBook, isLoading\",actions)(withRouter(SearchAllBook));","map":{"version":3,"sources":["/home/alta17/Desktop/React_Portofolio/porto_react/src/components/adminBookSearch.jsx"],"names":["React","withRouter","connect","store","actions","axios","SearchAllBook","doDelete","e","setState","props","deleteItem","localStorage","getItem","getListBook","history","push","doSearchBook","searchBook","listResults","searchResult","filter","item","penulis","judul","genre","email_user","paddingTop","preventDefault","width","changeInput","marginLeft","fontSize","map","book","i","id","harga","status","stok","user_id","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../styles/bootstrap.min.css';\nimport '../styles/allBooks.css';\nimport { withRouter} from 'react-router-dom'\nimport { connect } from 'unistore/react'\nimport { store, actions } from '../store'\nimport axios from 'axios'\n\n\nclass SearchAllBook extends React.Component {\n    \n    // Fungsi untuk menghapus buku dari database sesuai ID\n    doDelete = async (e) => {\n        store.setState({\n            'bookId': e\n        })\n        await this.props.deleteItem()\n        if (localStorage.getItem('token') !== null){\n            this.getListBook()\n            this.props.history.push(\"/books\");\n        }\n    }\n    \n    // Function for searching fiture (admin input)\n    doSearchBook = async () => {\n        await this.props.searchBook()\n        this.props.history.push(\"/books/search\");\n    }\n\n    render() {\n        const { listResults } = this.props\n        const searchResult = listResults.filter(item => {\n            if (item.penulis !== null && item.judul !== null && item.genre !== null && item.email_user !== null) {\n                return item;\n            }\n            return false\n        });\n        return (\n            <div className='container-fluid' style={{paddingTop:'50px'}}>\n                <div className='row'>\n                    <div className=\"col-md-6 search\">\n                        <form onSubmit={e => e.preventDefault()}>\n                        <div className='row'>\n                            <div className='col-md-9'>\n                                <div className=\"active-cyan-4 mb-4\">\n                                    <input class=\"form-control mr-sm-2\" \n                                    style={{ width:\"90%\"}} \n                                    type=\"search\" \n                                    placeholder=\"Cari Judul, Penulis, Genre, Status Jual\" \n                                    aria-label=\"Search\"\n                                    id=\"keyword\"\n                                    name=\"keyword\"\n                                    onChange={(e) => this.props.changeInput(e)}/>\n                                </div>\n                            </div>\n                            <div className='col-md-3'>\n                                <div className=\"active-cyan-4 mb-4\" style={{marginLeft:'-135px'}}>\n                                    <button class=\"btn btn-info my-sm-0\" \n                                    type=\"submit\"\n                                    onClick={this.doSearchBook}\n                                    >Search</button>\n                                </div>\n                            </div>\n                        </div>\n                        </form>\n                    </div>\n                \n                <table class=\"table table-bordered\" style={{fontSize:'12px'}}>\n                        <thead>\n                            <tr>\n                                <th>ID Buku</th>\n                                <th>Judul Buku</th>\n                                <th>Penulis</th>\n                                <th>Genre</th>\t\n                                <th>Harga</th>\n                                <th>Status Jual</th>\n                                <th>Stok</th>\n                                <th>ID User</th>\n                                <th>Email User</th>\n                                <th>Hapus Akun</th>\t\t\t\t\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {searchResult.map((book,i) =>\n                            <tr>\n                                <td>{book.id}</td>\n                                <td>{book.judul}</td>\n                                <td>{book.penulis}</td>\n                                <td>{book.genre}</td>\n                                <td>{book.harga}</td>\n                                <td>{book.status}</td>\n                                <td>{book.stok}</td>\n                                <td>{book.user_id}</td>\n                                <td>{book.email_user}</td>\n                                <td>\n                                    <button style={{fontSize:'10px'}} onClick={()=>this.doDelete(book.id)}>\n                                Delete\n                                    </button>\n                                </td>\n                            </tr>\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default connect(\"listResults,adminProductKeyword ,adminAllBook, isLoading\",actions)(withRouter(SearchAllBook));"]},"metadata":{},"sourceType":"module"}